
<button
size="l"
tuiButton
tuiHintDirection="top"
type="button"
(click)="openAddChartModal()"
>
Show
</button>

<div class="container">
<ng-template
let-observer
[tuiDialogOptions]="{label: 'Add Chart', size: 'l'}"
[(tuiDialog)]="isAddChartModalOpen"
>
<div style="   
display: block;position: sticky;
    top: 0;
    z-index: 1;background: white;" class="row">
<app-chart [chartDataModel]="chartDataModel"></app-chart>
    </div>
    <div class="row">
<form 
    [formGroup]="forms"
    (ngSubmit)="observer.complete()"
>
<div class="row">
    <div class="col-md-10">
<tui-input
        formControlName="chartTitleForm"
        tuiAutoFocus
    >
        Chart Title:
    </tui-input>
    </div>
    <div class="col-md-2">
        <app-color-picker (colorEvent) = "receiveTitleColorFromChild($event)"></app-color-picker>
    </div>
</div>
    

<div class="row">
    <div class="col-md-10">
        <tui-input
        formControlName="chartYaxisForm"
        tuiAutoFocus
    >
        Chart Y Axis Title:
    </tui-input>
    </div>
    <div class="col-md-2">
        <app-color-picker (colorEvent) = "receiveYaxisColorFromChild($event)"></app-color-picker>
    </div>
</div>
    
    

<div class="row">
    <div class="col-md-10">
        <tui-input
        formControlName="chartLabelForm"
        tuiAutoFocus
    >
        Chart Data Label:
    </tui-input>
    </div>
    <div class="col-md-2">
        <app-color-picker (colorEvent) = "receiveLabelColorFromChild($event)"></app-color-picker>
    </div>
</div>

<div class="row" style="margin-top: 25px;">
    <div class="col-md-6">
        <div class="row">
            <div class="col-sm-6">
                <p>Background Color:</p>
            </div>
            <div class="col-sm-6">
                <app-color-picker (colorEvent) = "receiveBackgroundColorFromChild($event)"></app-color-picker>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="row">
            <div class="col-sm-6">
                <p>Data Color:</p>
            </div>
            <div class="col-sm-6">
                <app-color-picker (colorEvent) = "receiveDataColorFromChild($event)"></app-color-picker>
            </div>
        </div>
    </div>
</div> 

<div class="row" style="margin-top: 25px;">
            <div style="text-align: end;" class="col-sm-6">
                <p>
                    Chart Type:
                </p>
            </div>
            <div style="text-align: start;" class="col-sm-6">
                <tui-hosted-dropdown [content]="chartTypeDropDown">
                    <button
                        tuiButton
                        type="button"
                        [iconRight]="arrow"
                    >
                    {{chartType}}
                    </button>
                </tui-hosted-dropdown>
                <ng-template #chartTypeDropDown>
                    <tui-data-list role="menu">
                        <tui-opt-group
                            *ngFor="let chartType of utilsService.getChartType()"
                        >
                            <a (click)="changeChartType(chartType)"
                            role="menuitemradio"
                            tuiOption
                            >
                                {{ chartType }}
                            </a>
                        </tui-opt-group>
                    </tui-data-list>
                </ng-template>
            </div>
        </div>
    
    


<div class="row" style="margin-top: 55px;margin-bottom: 15px;">
    <span style="font-weight: bold;">Data Insertion</span>
</div>

<div class="row">

    <div class="col-md-5">
        <form 
    [formGroup]="data.valueForms"
    (ngSubmit)="observer.complete()"
    [tuiTextfieldCleaner]="true"
>
<div formArrayName="valueFormsFields">

    <div style="padding-top: 25px;" *ngFor="let field of  valueFields.controls; let i = index">
<tui-input-number (ngModelChange)="updateValueForm($event,i)"
        [formControlName]="i"
        
    >
    Value {{(i+1).toString()}}
    </tui-input-number>
</div>
</div>
</form>
    </div>
    
    <div class="col-md-7">
        <form 
    [formGroup]="data.dateForms"
    (ngSubmit)="observer.complete()"
    [tuiTextfieldCleaner]="true"
>
<div formArrayName="dateFormsFields">

    <div style="padding-top: 25px;" *ngFor="let field of dateFields.controls; let i = index">
        <div class="row" style="margin-top: 0 !important;">
            <div class="col-md-8">

    <tui-input-date (ngModelChange)="updateDateForm($event,i)"
        [formControlName]="i"
    >
        Choose a date
    </tui-input-date>
</div>
    <div class="col-md-4">
            <button style="height: 100%;
            width: 100%;
            margin: 0;" (click)="removeData(i)"
            appearance="flat"
            tuiButton
            type="button"
            class="tui-space_right-3 tui-space_bottom-3"
        >
            <span style="color: red;font-weight: bold;">
                Remove
            </span>
        </button>
        
    </div>
        </div>

    
</div>
</div>
</form>
    </div>
    


</div>

<button style="margin-top: 25px;"
(click)="addDataField()"
    appearance="primary"
    tuiButton
    type="button"
    class="tui-space_right-3 tui-space_bottom-3"
>
    Add +
</button>
    
    
    <p  style="margin-top: 55px !important;">
        <button (click)="addChart()"
            tuiButton
            type="submit"
        >
            Submit
        </button>
    </p>
</form>
</div>
</ng-template>
</div>
